knitr::opts_chunk$set(echo = TRUE)
tibble(Parameter=c("species_code", "min_lat", "max_lat"),
Description=c("RACE species code", "Minimum latitude", "Maximum latitude"),
Requirement=c( "Optional", "Optional", "Optional"),
Values=c("69400-horsehair
68560-tanner
68590-hybrid
68580-snow
69323-blue king
69322-red king", "54-66","54-66"))%>%
flextable()%>%
fit_to_width(max_width = 8.5)%>%
theme_box()%>%
bg(bg="light gray", part = "header")%>%
set_table_properties(layout="autofit")
library(flextable)
library(tidyverse)
tibble(Parameter=c("species_code", "min_lat", "max_lat"),
Description=c("RACE species code", "Minimum latitude", "Maximum latitude"),
Requirement=c( "Optional", "Optional", "Optional"),
Values=c("69400-horsehair
68560-tanner
68590-hybrid
68580-snow
69323-blue king
69322-red king", "54-66","54-66"))%>%
flextable()%>%
fit_to_width(max_width = 8.5)%>%
theme_box()%>%
bg(bg="light gray", part = "header")%>%
set_table_properties(layout="autofit")
tibble(Parameter=c("species_code", "min_lat", "max_lat"),
Description=c("RACE species code", "Minimum latitude", "Maximum latitude"),
Requirement=c( "Optional", "Optional", "Optional"),
Values=c("69400-horsehair
68560-tanner
68590-hybrid
68580-snow
69323-blue king
69322-red king", "54-66","54-66"))%>%
flextable()%>%
fit_to_width(max_width = 8.5)%>%
theme_box()%>%
bg(bg="light gray", part = "header")%>%
width(j=c("Parameter", "Description", "Requirement"), width =1.1)%>%
width(j="Values", width=3)
tibble(Parameter=c("HAULJOIN",
"VESSEL",
"CRUISE",
"HAUL",
"HAUL_TYPE",
"PERFORMANCE",
"START_DATE",
"START_HOUR",
"DURATION",
"DISTANCE_FISHED",
"NET_WIDTH",
"NET_MEASURED",
"NET_HEIGHT",
"MID_LATITUDE",
"MID_LONGITUDE",
"GIS_STATION",
"GEAR_DEPTH",
"BOTTOM_DEPTH",
"SURFACE_TEMPERATURE",
"GEAR_TEMPERATURE",
"WIRE_LENGTH",
"GEAR",
"ACCESSORIES",
"SUBSAMPLE",
"AREA_SWEPT_VARIABLE",
"SPECIES_CODE",
"SEX",
"WIDTH",
"SHELL_CONDITION",
"EGG_COLOR",
"EGG_CONDITION",
"CLUTCH_SIZE",
"MERUS_LENGTH",
"CHELA_HEIGHT",
"DISEASE_CODE",
"DISEASE_DORSAL",
"DISEASE_VENTRAL",
"DISEASE_LEGS",
"CALCULATED_WEIGHT",
"WEIGHT",
"SAMPLING_FACTOR"  ),
Description=c("unique number generated by Oracle that identifies each haul in the table and can be used to link to other tables, such as crab and racebase.catch.",
"number assigned to each vessel participating in a NMFS survey (refer to ADP codebook)",
"six-digit number assigned to each cruise: first 4 digits identify the cruise year",
"number identifying a specific tow",
"numeric code indicating the type of haul (refer to ADP codebook)",
"numeric code indicating whether or not trawl was successful (refer to ADP codebook)",
"date trawl was set (mmddyyyy format)",
"time the trawl was set (24-hour military time format)",
"duration of tow in hours",
"distance fished, in kilometers",
"net width, in meters.  Value is calculated or determined via net mensuration equipment",
"Y (yes) if net mensuration equipment was used; N (no) if no net mensuration",
"net height, in meters",
"mid-latitude of tow",
"mid-longitude of tow",
"alphanumeric character that identifies an eastern Bering Sea crab-groundfish survey trawl location based on a 20x20 nm grid with Pribilof and St. Matthew corner stations included. ",
"depth, in meters, from net headrope to bottom",
"bottom depth, in meters"
"temperature, in degrees Celsius, of sea surface",
tibble(Parameter=c("HAULJOIN",
"VESSEL",
"CRUISE",
"HAUL",
"HAUL_TYPE",
"PERFORMANCE",
"START_DATE",
"START_HOUR",
"DURATION",
"DISTANCE_FISHED",
"NET_WIDTH",
"NET_MEASURED",
"NET_HEIGHT",
"MID_LATITUDE",
"MID_LONGITUDE",
"GIS_STATION",
"GEAR_DEPTH",
"BOTTOM_DEPTH",
"SURFACE_TEMPERATURE",
"GEAR_TEMPERATURE",
"WIRE_LENGTH",
"GEAR",
"ACCESSORIES",
"SUBSAMPLE",
"AREA_SWEPT_VARIABLE",
"SPECIES_CODE",
"SEX",
"WIDTH",
"SHELL_CONDITION",
"EGG_COLOR",
"EGG_CONDITION",
"CLUTCH_SIZE",
"MERUS_LENGTH",
"CHELA_HEIGHT",
"DISEASE_CODE",
"DISEASE_DORSAL",
"DISEASE_VENTRAL",
"DISEASE_LEGS",
"CALCULATED_WEIGHT",
"WEIGHT",
"SAMPLING_FACTOR"  ),
Description=c("unique number generated by Oracle that identifies each haul in the table and can be used to link to other tables, such as crab and racebase.catch.",
"number assigned to each vessel participating in a NMFS survey (refer to ADP codebook)",
"six-digit number assigned to each cruise: first 4 digits identify the cruise year",
"number identifying a specific tow",
"numeric code indicating the type of haul (refer to ADP codebook)",
"numeric code indicating whether or not trawl was successful (refer to ADP codebook)",
"date trawl was set (mmddyyyy format)",
"time the trawl was set (24-hour military time format)",
"duration of tow in hours",
"distance fished, in kilometers",
"net width, in meters.  Value is calculated or determined via net mensuration equipment",
"Y (yes) if net mensuration equipment was used; N (no) if no net mensuration",
"net height, in meters",
"mid-latitude of tow",
"mid-longitude of tow",
"alphanumeric character that identifies an eastern Bering Sea crab-groundfish survey trawl location based on a 20x20 nm grid with Pribilof and St. Matthew corner stations included. ",
"depth, in meters, from net headrope to bottom",
"bottom depth, in meters",
"temperature, in degrees Celsius, of sea surface",
"temperature, in degrees Celsius, of sea bottom",
"scope, in meters",
"numeric code indicating what type of trawl was used (refer to ADP codebook)",
"numeric code indicating what type of trawl doors were used, bridle length, and other gear accessory descriptions (refer to ADP codebook)",
"numeric code indicating whether or not the catch was subsampled (refer to ADP codebook)",
"calculated as the distance fished (from the haul table, in kilometers) multiplied by the net width (from the haul table, in meters), expressed in terms of square nautical miles.  The net width (meters) is divided by 1000 to convert to kilometers, then multiplied by the distance fished.  This number is multiplied by 0.29155335 to convert from square kilometers to square nautical miles.",
"calculated as the distance fished (from the haul table, in kilometers) multiplied by a fixed net width of either 40 or 50 feet, expressed in terms of square nautical miles.   Fixed net width of 40 feet is used for the 400-mesh eastern trawl, 50 feet for 83-112 eastern trawl.  Convert feet to kilometers (0.012192 if 40-foot net width; 0.01524 if 50-foot net width), then multiply by the distance fished.  This number is multiplied by 0.29155335 to convert from square kilometers to square nautical miles.",
"five-digit number assigned to a species (refer to species codebook)",
"one-digit numeric code assigned to a particular sex (male, female, unknown, hermaphrodite) Refer to crab codebook.",
"measurement in millimeters of king crab and hair crab species (carapace length), or Chionoecetes spp. (carapace width)",
"one-digit numeric code describing carapace condition of crab (refer to crab codebook)",
"one-digit numeric code describing color of eggs in female crabs (refer to crab codebook)",
"one-digit numeric code describing condition of eggs in female crabs (refer to crab codebook)",
"one-digit code indicating amount of eggs, if any, in female crabs (refer to crab codebook)",
"if measured, measurement in millimeters of length of second right walking leg",
"if measured, measurement in millimeters of height of right chela",
"one-digit numeric code indicating presence of black mat or bitter crab disease in crab",
"if disease present, percent of dorsal body surface covered",
"if disease present, percent of ventral body surface covered",
"if disease present, percent of surface of legs covered",
"estimated weight of individual crab using carapace size-weight parameters ",
"weight in grams of individual crab (data rarely collected)",
"indicates what percentage of the crab in a tow were measured; total number of crab in a given haul can be calculated by the formula (sum(sampling_factor))",
)
)%>%
flextable()%>%
fit_to_width(max_width = 8.5)%>%
theme_box()%>%
bg(bg="light gray", part = "header")%>%
set_table_properties(layout="autofit")
tibble(Parameter=c("HAULJOIN",
"VESSEL",
"CRUISE",
"HAUL",
"HAUL_TYPE",
"PERFORMANCE",
"START_DATE",
"START_HOUR",
"DURATION",
"DISTANCE_FISHED",
"NET_WIDTH",
"NET_MEASURED",
"NET_HEIGHT",
"MID_LATITUDE",
"MID_LONGITUDE",
"GIS_STATION",
"GEAR_DEPTH",
"BOTTOM_DEPTH",
"SURFACE_TEMPERATURE",
"GEAR_TEMPERATURE",
"WIRE_LENGTH",
"GEAR",
"ACCESSORIES",
"SUBSAMPLE",
"AREA_SWEPT_VARIABLE",
"SPECIES_CODE",
"SEX",
"LENGTH_WIDTH",
"SHELL_CONDITION",
"EGG_COLOR",
"EGG_CONDITION",
"CLUTCH_SIZE",
"MERUS_LENGTH",
"CHELA_HEIGHT",
"DISEASE_CODE",
"DISEASE_DORSAL",
"DISEASE_VENTRAL",
"DISEASE_LEGS",
"CALCULATED_WEIGHT",
"WEIGHT",
"SAMPLING_FACTOR"  ),
Description=c("unique number generated by Oracle that identifies each haul in the table and can be used to link to other tables, such as crab and racebase.catch.",
"number assigned to each vessel participating in a NMFS survey (refer to ADP codebook)",
"six-digit number assigned to each cruise: first 4 digits identify the cruise year",
"number identifying a specific tow",
"numeric code indicating the type of haul (refer to ADP codebook)",
"numeric code indicating whether or not trawl was successful (refer to ADP codebook)",
"date trawl was set (mmddyyyy format)",
"time the trawl was set (24-hour military time format)",
"duration of tow in hours",
"distance fished, in kilometers",
"net width, in meters.  Value is calculated or determined via net mensuration equipment",
"Y (yes) if net mensuration equipment was used; N (no) if no net mensuration",
"net height, in meters",
"mid-latitude of tow",
"mid-longitude of tow",
"alphanumeric character that identifies an eastern Bering Sea crab-groundfish survey trawl location based on a 20x20 nm grid with Pribilof and St. Matthew corner stations included. ",
"depth, in meters, from net headrope to bottom",
"bottom depth, in meters",
"temperature, in degrees Celsius, of sea surface",
"temperature, in degrees Celsius, of sea bottom",
"scope, in meters",
"numeric code indicating what type of trawl was used (refer to ADP codebook)",
"numeric code indicating what type of trawl doors were used, bridle length, and other gear accessory descriptions (refer to ADP codebook)",
"numeric code indicating whether or not the catch was subsampled (refer to ADP codebook)",
"calculated as the distance fished (from the haul table, in kilometers) multiplied by the net width (from the haul table, in meters), expressed in terms of square nautical miles.  The net width (meters) is divided by 1000 to convert to kilometers, then multiplied by the distance fished.  This number is multiplied by 0.29155335 to convert from square kilometers to square nautical miles.",
"five-digit number assigned to a species (refer to species codebook)",
"one-digit numeric code assigned to a particular sex (male, female, unknown, hermaphrodite) Refer to crab codebook.",
"measurement in millimeters of king crab and hair crab species (carapace length), or Chionoecetes spp. (carapace width)",
"one-digit numeric code describing carapace condition of crab (refer to crab codebook)",
"one-digit numeric code describing color of eggs in female crabs (refer to crab codebook)",
"one-digit numeric code describing condition of eggs in female crabs (refer to crab codebook)",
"one-digit code indicating amount of eggs, if any, in female crabs (refer to crab codebook)",
"if measured, measurement in millimeters of length of second right walking leg",
"if measured, measurement in millimeters of height of right chela",
"one-digit numeric code indicating presence of black mat or bitter crab disease in crab",
"if disease present, percent of dorsal body surface covered",
"if disease present, percent of ventral body surface covered",
"if disease present, percent of surface of legs covered",
"estimated weight of individual crab using carapace size-weight parameters ",
"weight in grams of individual crab (data rarely collected)",
"indicates what percentage of the crab in a tow were measured; total number of crab in a given haul can be calculated by the formula (sum(sampling_factor))",
)
)%>%
flextable()%>%
fit_to_width(max_width = 8.5)%>%
theme_box()%>%
bg(bg="light gray", part = "header")%>%
set_table_properties(layout="autofit")
#install packages if not already downloaded
library(httr) #for accessing web services
library(tidyverse) #for converting data into exportable data frame
#Modify this url as desired for a custom data query.
data<-httr::content(
httr::GET('https://apex.psmfc.org/akfin/data_marts/akmp/ebs-nbs-crab-haul?species_code=68580&minlat=60'),
type = "application/json") %>%
bind_rows
#Modify this url as desired for a custom data query.
data<-httr::content(
httr::GET('https://apex.psmfc.org/akfin/data_marts/akmp/ebs-nbs-crab-haul?species_code=68580'),
type = "application/json") %>%
bind_rows
#install packages if not already downloaded
library(httr) #for accessing web services
library(tidyverse) #for converting data into exportable data frame
#Modify this url as desired for a custom data query.
data<-httr::content(
httr::GET('https://apex.psmfc.org/akfin/data_marts/akmp/ebs-nbs-crab-haul?species_code=68580'),
type = "application/json") %>%
bind_rows
#install packages if not already downloaded
library(httr) #for accessing web services
library(tidyverse) #for converting data into exportable data frame
#Modify this url as desired for a custom data query.
data<-httr::content(
httr::GET('https://apex.psmfc.org/akfin/data_marts/akmp/ebs-nbs-crab-haul?species_code=68580'),
type = "application/json") %>%
bind_rows
#Modify this url as desired for a custom data query.
data<-httr::content(
httr::GET('https://apex.psmfc.org/akfin/data_marts/akmp/ebs-nbs-crab-haul'),
type = "application/json") %>%
bind_rows
tibble(Parameter=c("HAULJOIN",
"VESSEL",
"CRUISE",
"HAUL",
"HAUL_TYPE",
"PERFORMANCE",
"START_DATE",
"START_HOUR",
"DURATION",
"DISTANCE_FISHED",
"NET_WIDTH",
"NET_MEASURED",
"NET_HEIGHT",
"MID_LATITUDE",
"MID_LONGITUDE",
"GIS_STATION",
"GEAR_DEPTH",
"BOTTOM_DEPTH",
"SURFACE_TEMPERATURE",
"GEAR_TEMPERATURE",
"WIRE_LENGTH",
"GEAR",
"ACCESSORIES",
"SUBSAMPLE",
"AREA_SWEPT_VARIABLE",
"SPECIES_CODE",
"SEX",
"LENGTH_WIDTH",
"SHELL_CONDITION",
"EGG_COLOR",
"EGG_CONDITION",
"CLUTCH_SIZE",
"MERUS_LENGTH",
"CHELA_HEIGHT",
"DISEASE_CODE",
"DISEASE_DORSAL",
"DISEASE_VENTRAL",
"DISEASE_LEGS",
"CALCULATED_WEIGHT",
"WEIGHT",
"SAMPLING_FACTOR"  ),
Description=c("unique number generated by Oracle that identifies each haul in the table and can be used to link to other tables, such as crab and racebase.catch.",
"number assigned to each vessel participating in a NMFS survey (refer to ADP codebook)",
"six-digit number assigned to each cruise: first 4 digits identify the cruise year",
"number identifying a specific tow",
"numeric code indicating the type of haul (refer to ADP codebook)",
"numeric code indicating whether or not trawl was successful (refer to ADP codebook)",
"date trawl was set (mmddyyyy format)",
"time the trawl was set (24-hour military time format)",
"duration of tow in hours",
"distance fished, in kilometers",
"net width, in meters.  Value is calculated or determined via net mensuration equipment",
"Y (yes) if net mensuration equipment was used; N (no) if no net mensuration",
"net height, in meters",
"mid-latitude of tow",
"mid-longitude of tow",
"alphanumeric character that identifies an eastern Bering Sea crab-groundfish survey trawl location based on a 20x20 nm grid with Pribilof and St. Matthew corner stations included. ",
"depth, in meters, from net headrope to bottom",
"bottom depth, in meters",
"temperature, in degrees Celsius, of sea surface",
"temperature, in degrees Celsius, of sea bottom",
"scope, in meters",
"numeric code indicating what type of trawl was used (refer to ADP codebook)",
"numeric code indicating what type of trawl doors were used, bridle length, and other gear accessory descriptions (refer to ADP codebook)",
"numeric code indicating whether or not the catch was subsampled (refer to ADP codebook)",
"calculated as the distance fished (from the haul table, in kilometers) multiplied by the net width (from the haul table, in meters), expressed in terms of square nautical miles.  The net width (meters) is divided by 1000 to convert to kilometers, then multiplied by the distance fished.  This number is multiplied by 0.29155335 to convert from square kilometers to square nautical miles.",
"five-digit number assigned to a species (refer to species codebook)",
"one-digit numeric code assigned to a particular sex (male, female, unknown, hermaphrodite) Refer to crab codebook.",
"measurement in millimeters of king crab and hair crab species (carapace length), or Chionoecetes spp. (carapace width)",
"one-digit numeric code describing carapace condition of crab (refer to crab codebook)",
"one-digit numeric code describing color of eggs in female crabs (refer to crab codebook)",
"one-digit numeric code describing condition of eggs in female crabs (refer to crab codebook)",
"one-digit code indicating amount of eggs, if any, in female crabs (refer to crab codebook)",
"if measured, measurement in millimeters of length of second right walking leg",
"if measured, measurement in millimeters of height of right chela",
"one-digit numeric code indicating presence of black mat or bitter crab disease in crab",
"if disease present, percent of dorsal body surface covered",
"if disease present, percent of ventral body surface covered",
"if disease present, percent of surface of legs covered",
"estimated weight of individual crab using carapace size-weight parameters ",
"weight in grams of individual crab (data rarely collected)",
"indicates what percentage of the crab in a tow were measured; total number of crab in a given haul can be calculated by the formula (sum(sampling_factor))"
)
)%>%
flextable()%>%
fit_to_width(max_width = 8.5)%>%
theme_box()%>%
bg(bg="light gray", part = "header")%>%
set_table_properties(layout="autofit")
library(httr)
library(tidyverse)
data<-httr::content(
httr::GET('https://apex.psmfc.org/akfin/data_marts/akmp/bs_crab_avg_sst'),
type = "application/json") %>%
bind_rows
data<-httr::content(
httr::GET('https://apex.psmfc.org/akfin/data_marts/akmp/bs_crab_avg_sst?start_date=19850101&end_date=20220510'),
type = "application/json") %>%
bind_rows
data<-httr::content(
httr::GET('https://apex.psmfc.org/akfin/data_marts/akmp/bs_crab_avg_sst?start_date=20220101&end_date=20220510'),
type = "application/json") %>%
bind_rows
View(data)
data<-httr::content(
httr::GET('https://apex.psmfc.org/akfin/data_marts/akmp/bs_crab_avg_sst?start_date=19850102&end_date=20220510'),
type = "application/json") %>%
bind_rows
data<-httr::content(
httr::GET('https://apex.psmfc.org/akfin/data_marts/akmp/bs_crab_avg_sst?start_date=19860102&end_date=20220510'),
type = "application/json") %>%
bind_rows
data<-httr::content(
httr::GET('https://apex.psmfc.org/akfin/data_marts/akmp/baranof_avg_sst?start_date=19860102&end_date=20220510'),
type = "application/json") %>%
bind_rows
sst<-httr::content(
httr::GET('https://apex.psmfc.org/akfin/data_marts/akmp/bs_crab_avg_sst?start_date=19850101&end_date=20220510'),
type = "application/json") %>%
bind_rows
